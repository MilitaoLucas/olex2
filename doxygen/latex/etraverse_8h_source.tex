\doxysection{etraverse.\+h}
\hypertarget{etraverse_8h_source}{}\label{etraverse_8h_source}\index{sdl/etraverse.h@{sdl/etraverse.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00002\ \textcolor{comment}{*\ Copyright\ (c)\ 2004-\/2011\ O.\ Dolomanov,\ OlexSys\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{*\ This\ file\ is\ part\ of\ the\ OlexSys\ Development\ Framework.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{*\ This\ source\ file\ is\ distributed\ under\ the\ terms\ of\ the\ licence\ located\ in\ \ \ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{*\ the\ root\ folder.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00008\ \textcolor{comment}{******************************************************************************/}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ \_\_olx\_sdl\_traverse\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ \_\_olx\_sdl\_traverse\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}ebase.h"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ BeginEsdlNamespace()}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{/*\ this\ class\ can\ be\ used\ as\ a\ base\ for\ any\ object\ one\ of\ the\ methods\ of\ which}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ \ should\ be\ called\ on\ every\ item\ of\ some\ collection.\ This\ approach\ allows\ hiding}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ details\ about\ that\ collection\ implementation\ and\ therefore\ make\ the\ code\ more}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ \ portable}}
\DoxyCodeLine{00020\ \textcolor{comment}{*/}}
\DoxyCodeLine{00021\ template\ <class\ ItemClass>\ class\ ATraverser\ \ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{virtual}\ \string~ATraverser()\ \ \{\ \ \}}
\DoxyCodeLine{00024\ \ \ \textcolor{comment}{//\ if\ the\ function\ return\ false\ -\/\ the\ iteration\ stops}}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ OnItem(\ ItemClass\&\ item\ )\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00026\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ItemClass>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classITraversable}{ITraversable}}\ \ \{}
\DoxyCodeLine{00029\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classITraversable}{\string~ITraversable}}()\ \ \{\ \}}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ Traverse(\ \textcolor{keyword}{const}\ ATraverser<ItemClass>\&\ tr)\ =\ 0;}
\DoxyCodeLine{00032\ \};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{/*for\ performance\ reasons\ virtual\ functions\ can\ be\ replaced\ with\ templates}}
\DoxyCodeLine{00035\ \textcolor{comment}{*/}}
\DoxyCodeLine{00036\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ListToTraverseClass>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTListTraverser}{TListTraverser}}\ \ \{}
\DoxyCodeLine{00037\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Traverser>}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ Traverse(\textcolor{keyword}{const}\ ListToTraverseClass\&\ list,\ Traverser\&\ traverser\ )\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keywordtype}{size\_t}\ i=0;\ i\ <\ list.Count();\ i++\ )\ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(\ list.Item(i)\ )\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{/*}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ \ Count\ and\ Item\ functions\ must\ be\ in\ place}}
\DoxyCodeLine{00049\ \textcolor{comment}{*/}}
\DoxyCodeLine{00050\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ GraphToTraverseClass>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTGraphTraverser}{TGraphTraverser}}\ \ \{}
\DoxyCodeLine{00051\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Traverser>}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ Traverse(\textcolor{keyword}{const}\ GraphToTraverseClass\&\ graph,\ Traverser\&\ traverser\ )\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keywordtype}{size\_t}\ i=0;\ i\ <\ graph.Count();\ i++\ )\ \ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(\ graph.Item(i)\ )\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !Traverse(graph.Item(i),\ traverser)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Traverser>}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ LevelTraverse(\textcolor{keyword}{const}\ GraphToTraverseClass\&\ graph,\ Traverser\&\ traverser\ )\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keywordtype}{size\_t}\ i=0;\ i\ <\ graph.Count();\ i++\ )\ \ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(\ graph.Item(i)\ )\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keywordtype}{size\_t}\ i=0;\ i\ <\ graph.Count();\ i++\ )\ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !LevelTraverse(graph.Item(i),\ traverser)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TreeToTraverseClass>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTBTreeTraverser}{TBTreeTraverser}}\ \ \{}
\DoxyCodeLine{00073\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Traverser>}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ TraverseLeft(\textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ TreeToTraverseClass::Entry*\ en,\ Traverser\&\ traverser)\ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(en)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ TreeToTraverseClass::Entry*\ nxt\ =\ en-\/>next;}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{while}(\ nxt\ )\ \ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(nxt)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ nxt\ =\ nxt-\/>next;}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{while}(\ en\ )\ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ en-\/>right\ )\ \ TraverseLeft(en-\/>right,\ traverser);}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ en-\/>left\ )\ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(en-\/>left)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ nxt\ =\ en-\/>left-\/>next;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\ nxt\ )\ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !traverser.OnItem(nxt)\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ nxt\ =\ nxt-\/>next;}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ en\ =\ en-\/>left;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Traverser>}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ Traverse(\textcolor{keyword}{const}\ TreeToTraverseClass\&\ tree,\ Traverser\&\ traverser)\ \ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ tree.Count()\ ==\ 0\ )\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TraverseLeft(tree.GetRoot(),\ traverser);}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \};}
\DoxyCodeLine{00105\ EndEsdlNamespace()}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
