\doxysection{lattice.\+h}
\hypertarget{lattice_8h_source}{}\label{lattice_8h_source}\index{xlib/lattice.h@{xlib/lattice.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00002\ \textcolor{comment}{*\ Copyright\ (c)\ 2004-\/2011\ O.\ Dolomanov,\ OlexSys\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{*\ This\ file\ is\ part\ of\ the\ OlexSys\ Development\ Framework.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{*\ This\ source\ file\ is\ distributed\ under\ the\ terms\ of\ the\ licence\ located\ in\ \ \ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{*\ the\ root\ folder.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00008\ \textcolor{comment}{******************************************************************************/}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ \_\_olx\_xl\_lattice\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ \_\_olx\_xl\_lattice\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}xbase.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}undo.h"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}symmat.h"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}catom.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}satom.h"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}sbond.h"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}network.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}atomregistry.h"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}splane.h"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}macroerror.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}library.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}bitarray.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}math/geom.h"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ BeginXlibNamespace()}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ class\ TDeleteUndo:\ public\ \mbox{\hyperlink{classTUndoData}{TUndoData}}\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{classTTypeList}{TTypeList<TSAtom::Ref>}}\ SAtomIds;}
\DoxyCodeLine{00032\ \ \ TDeleteUndo(\mbox{\hyperlink{classIUndoAction}{IUndoAction}}\ *action)\ :\ \mbox{\hyperlink{classTUndoData}{TUndoData}}(action)\ \{\}}
\DoxyCodeLine{00033\ \ \ \textcolor{keywordtype}{void}\ AddSAtom(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ SA)\ \{\ SAtomIds.AddCopy(SA.GetRef());\ \}}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }TLattice\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classIOlxObject}{IOlxObject}}\ \{}
\DoxyCodeLine{00037\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classTNetwork}{TNetwork}}*\ Network;\ \ \textcolor{comment}{//\ for\ internal\ use\ only}}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{structASObjectProvider}{ASObjectProvider}}\&\ Objects;}
\DoxyCodeLine{00040\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ generates\ matrices\ from\ -\/4\ to\ 4\ which\ generate\ aunit\ within\ the\ rad\ sphere}}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classConstPtrList}{ConstPtrList<smatd>}}\ GenerateMatrices(\textcolor{keyword}{const}\ vec3d\&\ center,\ \textcolor{keywordtype}{double}\ rad);}
\DoxyCodeLine{00043\ \ \ smatd\_plist\ Matrices;\ \ \textcolor{comment}{//\ list\ of\ all\ matrices}}
\DoxyCodeLine{00044\ \ \ TNetPList\ Fragments;}
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classTTypeList}{TTypeList<TSPlane::Def>}}\ PlaneDefs;}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordtype}{void}\ GenerateBondsAndFragments(\mbox{\hyperlink{classTArrayList}{TArrayList<vec3d>}}*\ crd);}
\DoxyCodeLine{00047\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classTActionQList}{TActionQList}}\ Actions;}
\DoxyCodeLine{00049\ \ \ \textcolor{comment}{//\ generates\ atoms\ using\ current\ matrices\ list}}
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{void}\ Generate(TCAtomPList*\ Template,\ \textcolor{keywordtype}{bool}\ ClearCont);}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordtype}{void}\ ClearFragments();}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{void}\ ClearAtoms();}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{void}\ ClearMatrices();}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{void}\ ClearBonds()\ \{\ Objects.bonds.Clear();\ \}}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{void}\ ClearPlanes()\ \{\ Objects.planes.Clear();\ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{void}\ BuildAtomRegistry();}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTUnitCell}{TUnitCell}}*\ UnitCell;}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTAsymmUnit}{TAsymmUnit}}*\ AsymmUnit;}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordtype}{double}\ Delta,\ DeltaI;}
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{/*\ if\ Template\ is\ specified,\ the\ CAtoms\ are\ taken\ from\ there\ instead\ of}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ \ AsymmUnit}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordtype}{void}\ DoGrow(\textcolor{keyword}{const}\ TSAtomPList\&\ Atoms,\ \textcolor{keywordtype}{bool}\ GrowShell,\ TCAtomPList*\ Template);}
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{//\ removes\ existing\ TSAtoms\ with\ TCAtom's\ masked}}
\DoxyCodeLine{00067\ \ \ \textcolor{keywordtype}{void}\ BuildPlanes();}
\DoxyCodeLine{00068\ \ \ \textcolor{keywordtype}{void}\ InitBody();}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordtype}{void}\ Disassemble(\textcolor{keywordtype}{bool}\ create\_planes\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ GenerateAtom(\mbox{\hyperlink{classTCAtom}{TCAtom}}\&\ a,\ smatd\&\ symop,\ \mbox{\hyperlink{classTNetwork}{TNetwork}}*\ net\ =\ 0);}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_CreateFrags(\mbox{\hyperlink{classTCAtom}{TCAtom}}\&\ start,\ TCAtomPList\&\ dest);}
\DoxyCodeLine{00072\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00073\ \ \ TLattice(\mbox{\hyperlink{structASObjectProvider}{ASObjectProvider}}\&\ ObjectProvider);}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{virtual}\ \string~TLattice();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{classTActionQueue}{TActionQueue}}\&\ OnStructureGrow,\ \&\ OnStructureUniq,\ \&\ OnDisassemble,}
\DoxyCodeLine{00077\ \ \ \ \ \&\ OnAtomsDeleted;}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ this\ does\ not\ have\ any\ usefull\ data}}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classTNetwork}{TNetwork}}\&\ GetNetwork()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *Network;\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ Clear(\textcolor{keywordtype}{bool}\ ClearUnitCell);}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{void}\ Uniq();}
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ used\ if\ atoms\ availibility\ etc\ has\ changed}}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordtype}{void}\ UpdateConnectivity();}
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{//\ used\ if\ the\ connectivity\ info\ (CONN/BIND/FREE\ etc)\ is\ changed}}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordtype}{void}\ UpdateConnectivityInfo();}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordtype}{void}\ UpdatePlaneDefinitions();}
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{/*adopts\ atoms,\ bonds\ and\ fragment\ from\ the\ given\ lattice\ */}}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{void}\ AddLatticeContent(\textcolor{keyword}{const}\ TLattice\&\ latt);}
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ generates\ atoms\ inside\ the\ unit\ cell\ only}}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordtype}{void}\ GenerateCell();}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{void}\ Generate(\textcolor{keyword}{const}\ IVolumeValidator\&\ validator,\ TCAtomPList*\ Template,}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{bool}\ clear\_content,\ \textcolor{keywordtype}{bool}\ cart\_validator);}
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{/*\ generates\ atoms\ inside\ the\ given\ box,\ the\ volume\ is}}
\DoxyCodeLine{00096\ \textcolor{comment}{\ \ given\ by\ 6\ planes\ defined\ by\ normal\ and\ centres}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordtype}{void}\ GenerateBox(\textcolor{keyword}{const}\ vec3d\_alist\&\ norms,\ \textcolor{keyword}{const}\ vec3d\_alist\&\ centres,}
\DoxyCodeLine{00099\ \ \ \ \ TCAtomPList*\ Template,\ \textcolor{keywordtype}{bool}\ clear\_content)}
\DoxyCodeLine{00100\ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ Generate(BoxVolumeValidator(norms,\ centres),\ Template,\ clear\_content,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00102\ \ \ \}}
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{/*\ generates\ atoms\ within\ sphere\ volume\ at\ center\ */}}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{void}\ GenerateSphere(\textcolor{keyword}{const}\ vec3d\&\ center,\ \textcolor{keywordtype}{double}\ rad,}
\DoxyCodeLine{00105\ \ \ \ \ TCAtomPList*\ Template,\ \textcolor{keywordtype}{bool}\ clear\_content)}
\DoxyCodeLine{00106\ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ Generate(SphereVolumeValidator(center,\ rad),\ Template,\ clear\_content,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00108\ \ \ \}}
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{/*\ generates\ atoms\ within\ specified\ volume}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ *\ if\ atoms\ is\ true\ -\/\ generates\ atoms\ vs\ asymmetric\ units}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{void}\ Generate(\textcolor{keyword}{const}\ vec3d\&\ MFrom,\ \textcolor{keyword}{const}\ vec3d\&\ MTo,\ TCAtomPList*\ Template,}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{bool}\ ClearCont,\ \textcolor{keywordtype}{bool}\ atoms);}
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{/*\ generates\ asymmetric\ units/atoms\ within\ sphere\ volume\ at\ center\ */}}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordtype}{void}\ Generate(\textcolor{keyword}{const}\ vec3d\&\ center,\ \textcolor{keywordtype}{double}\ rad,\ TCAtomPList*\ Template,}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordtype}{bool}\ ClearCont,\ \textcolor{keywordtype}{bool}\ atoms);}
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ checks\ if\ there\ are\ more\ than\ one\ matrix}}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordtype}{bool}\ IsGenerated()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ !(Matrices.Count()\ ==\ 1\ \&\&\ Matrices[0]-\/>IsFirst());}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \textcolor{keywordtype}{bool}\ IsPolymeric(\textcolor{keywordtype}{bool}\ use\_peaks)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{/*\ generates\ matrices\ to\ fill\ the\ given\ volume\ */}}
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{classConstPtrList}{ConstPtrList<smatd>}}\ GenerateMatrices(\textcolor{keyword}{const}\ vec3d\&\ VFrom,}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{const}\ vec3d\&\ VTo);}
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//\ finds\ matrices\ to\ be\ used\ for\ the\ next\ grow\ operation\ in\ GrowFragments}}
\DoxyCodeLine{00128\ \ \ \textcolor{keywordtype}{void}\ GetGrowMatrices(smatd\_list\&\ res)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{/*\ finds\ all\ matrices\ unique\ to\ the\ unit\ cell\ which\ complete\ a\ given\ fragment.}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ Initialises\ polymeric\ if\ there\ are\ matrices\ with\ the\ same\ r\ but\ different\ t}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ \ encountered\ during\ the\ process}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00133\ \ \ \mbox{\hyperlink{classSortedObjectList}{SortedObjectList<smatd,\ smatd::ContainerIdComparator>}}}
\DoxyCodeLine{00134\ \ \ \ \ GetFragmentGrowMatrices(\textcolor{keyword}{const}\ TCAtomPList\&\ fragment,\ \textcolor{keywordtype}{bool}\ use\_q\_peaks,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ polymeric\ =\ 0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{/*\ finds\ all\ unique\ matrices\ which\ complete\ a\ given\ fragment.\ For\ polymeric}}
\DoxyCodeLine{00137\ \textcolor{comment}{\ \ structure\ the\ translation\ of\ the\ matrices\ is\ mapped\ to\ [0-\/1]}}
\DoxyCodeLine{00138\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00139\ \ \ \mbox{\hyperlink{classSortedObjectList}{SortedObjectList<smatd,\ smatd::IdComparator>}}}
\DoxyCodeLine{00140\ \ \ \ \ GetFragmentGrowMatrices\_1(\textcolor{keyword}{const}\ TCAtomPList\&\ fragment,\ \textcolor{keywordtype}{bool}\ use\_q\_peaks)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00141\ \ \ \textcolor{comment}{/*\ grows\ all\ atoms\ which\ can\ be\ grown,\ if\ GrowShells\ is\ true,\ only\ immediate}}
\DoxyCodeLine{00142\ \textcolor{comment}{\ \ environment\ of\ the\ atoms\ which\ can\ grow\ is\ generated\ */}}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordtype}{void}\ GrowFragments(\textcolor{keywordtype}{bool}\ GrowShells,\ TCAtomPList*\ Template);}
\DoxyCodeLine{00144\ \ \ \textcolor{comment}{/*\ grows\ fragemnts\ with\ a\ list\ of\ transforms\ */}}
\DoxyCodeLine{00145\ \ \ \textcolor{keywordtype}{void}\ GrowFragments(\textcolor{keyword}{const}\ \mbox{\hyperlink{classolx__pdict}{olx\_pdict<uint32\_t,\ smatd\_list>}}\&\ job);}
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{/*\ grows\ a\ fragment\ using\ particular\ matrix\ */}}
\DoxyCodeLine{00147\ \ \ \textcolor{keywordtype}{void}\ GrowFragment(uint32\_t\ FragId,\ \textcolor{keyword}{const}\ smatd\&\ transform)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ GrowFragment(FragId,\ smatd\_list()\ <<\ transform);}
\DoxyCodeLine{00149\ \ \ \}}
\DoxyCodeLine{00150\ \ \ \textcolor{keywordtype}{void}\ GrowFragment(uint32\_t\ FragId,\ \textcolor{keyword}{const}\ smatd\_list\&\ transforms);}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordtype}{void}\ GrowAtom(\mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ A,\ \textcolor{keywordtype}{bool}\ GrowShells,\ TCAtomPList*\ Template);}
\DoxyCodeLine{00152\ \ \ \textcolor{keywordtype}{void}\ GrowAtoms(\textcolor{keyword}{const}\ TSAtomPList\&\ Atoms,\ \textcolor{keywordtype}{bool}\ GrowShells,}
\DoxyCodeLine{00153\ \ \ \ \ TCAtomPList*\ Template);}
\DoxyCodeLine{00154\ \ \ \textcolor{keywordtype}{void}\ GrowAtoms(\textcolor{keyword}{const}\ TCAtomPList\&\ Atoms,\ \textcolor{keyword}{const}\ smatd\_list\&\ matrices);}
\DoxyCodeLine{00155\ \ \ \textcolor{comment}{//\ returns\ the\ atom\ (generated\ or\ exisiting)}}
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}*\ GrowAtom(\mbox{\hyperlink{classTCAtom}{TCAtom}}\&\ atom,\ \textcolor{keyword}{const}\ smatd\&\ matrix);}
\DoxyCodeLine{00157\ \ \ \textcolor{comment}{//\ adds\ new\ asymmetric\ unit\ transformed\ by\ the\ given\ symop}}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordtype}{void}\ Grow(\textcolor{keyword}{const}\ smatd\&\ transform);}
\DoxyCodeLine{00159\ \ \ \textcolor{comment}{/*\ generates\ content\ using\ current\ matrices,\ the\ current\ content\ stays\ */}}
\DoxyCodeLine{00160\ \ \ \textcolor{keywordtype}{void}\ GenerateWholeContent(TCAtomPList*\ Template);}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ CompareFragmentsBySize(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTNetwork}{TNetwork}}\&\ N,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTNetwork}{TNetwork}}\&\ N1)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{return}\ olx\_cmp(N1.NodeCount(),\ N.NodeCount());}
\DoxyCodeLine{00164\ \ \ \}}
\DoxyCodeLine{00165\ \ \ \textcolor{keywordtype}{size\_t}\ FragmentCount()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Fragments.Count();\ \}}
\DoxyCodeLine{00166\ \ \ \mbox{\hyperlink{classTNetwork}{TNetwork}}\&\ GetFragment(\textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{return}\ olx\_is\_valid\_index(i)\ ?\ *Fragments[i]\ :\ *Network;}
\DoxyCodeLine{00168\ \ \ \}}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{const}\ TNetPList\&\ GetFragments()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Fragments;\ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keywordtype}{size\_t}\ MatrixCount()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Matrices.Count();\ \}}
\DoxyCodeLine{00172\ \ \ \textcolor{keyword}{const}\ smatd\&\ GetMatrix(\textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *Matrices[i];\ \}}
\DoxyCodeLine{00173\ \ \ smatd\&\ GetMatrix(\textcolor{keywordtype}{size\_t}\ i)\ \{\ \textcolor{keywordflow}{return}\ *Matrices[i];\ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{structASObjectProvider}{ASObjectProvider}}\&\ GetObjects()\ \{\ \textcolor{keywordflow}{return}\ Objects;\ \}}
\DoxyCodeLine{00176\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structASObjectProvider}{ASObjectProvider}}\&\ GetObjects()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Objects;\ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}*\ FindSAtom(\textcolor{keyword}{const}\ olxstr\&\ Label)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}*\ FindSAtom(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTCAtom}{TCAtom}}\&\ ca)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}*\ FindSAtom(\textcolor{keyword}{const}\ \mbox{\hyperlink{structTSAtom_1_1Ref}{TSAtom::Ref}}\&\ \textcolor{keywordtype}{id})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00182\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classAtomRegistry}{AtomRegistry}}\&\ GetAtomRegistry()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{return}\ Objects.atomRegistry;}
\DoxyCodeLine{00184\ \ \ \}}
\DoxyCodeLine{00185\ \ \ \textcolor{keywordtype}{void}\ RestoreAtom(\textcolor{keyword}{const}\ \mbox{\hyperlink{structTSAtom_1_1Ref}{TSAtom::Ref}}\&\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \textcolor{comment}{//\ for\ the\ grown\ structure\ might\ return\ more\ than\ one\ plane}}
\DoxyCodeLine{00188\ \ \ TSPlanePList\ NewPlane(\textcolor{keyword}{const}\ TSAtomPList\&\ Atoms,\ \textcolor{keywordtype}{double}\ weightExtent\ =\ 0);}
\DoxyCodeLine{00189\ \ \ \textcolor{keywordtype}{void}\ ClearPlaneDefinitions()\ \{\ PlaneDefs.Clear();\ \}}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordtype}{void}\ SetPlaneDefinitions(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTTypeList}{TTypeList<TSPlane::Def>}}\&\ pd);}
\DoxyCodeLine{00191\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTTypeList}{TTypeList<TSPlane::Def>}}\&\ GetPlaneDefinitions()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{return}\ PlaneDefs;}
\DoxyCodeLine{00193\ \ \ \}}
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{//the\ plane\ must\ be\ deleted\ by\ the\ caller\ !}}
\DoxyCodeLine{00195\ \ \ \mbox{\hyperlink{classTSPlane}{TSPlane}}*\ TmpPlane(\textcolor{keyword}{const}\ TSAtomPList\&\ Atoms,\ \textcolor{keywordtype}{double}\ weightExtent\ =\ 0);}
\DoxyCodeLine{00196\ \ \ TSAtomPList\ NewCentroid(\textcolor{keyword}{const}\ TSAtomPList\&\ Atoms);}
\DoxyCodeLine{00197\ \ \ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ NewAtom(\textcolor{keyword}{const}\ vec3d\&\ center);}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keywordtype}{void}\ SetAnis(\textcolor{keyword}{const}\ TCAtomPList\&\ atoms,\ \textcolor{keywordtype}{bool}\ anis,\ \textcolor{keywordtype}{int}\ anharmonic\ =\ 0);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{classTUnitCell}{TUnitCell}}\&\ GetUnitCell()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *UnitCell;\ \}}
\DoxyCodeLine{00202\ \ \ \mbox{\hyperlink{classTAsymmUnit}{TAsymmUnit}}\&\ GetAsymmUnit()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *AsymmUnit;\ \}}
\DoxyCodeLine{00203\ \ \ \textcolor{keywordtype}{void}\ UpdateAsymmUnit();}
\DoxyCodeLine{00204\ \ \ \textcolor{comment}{//\ called\ internally\ by\ AU\ when\ atom\ order\ changes}}
\DoxyCodeLine{00205\ \ \ \textcolor{keywordtype}{void}\ \_OnAUChange();}
\DoxyCodeLine{00206\ \ \ \textcolor{comment}{//\ re-\/creats\ unit\ cell\ U's\ and\ reinitialises\ atom\ U's}}
\DoxyCodeLine{00207\ \ \ \textcolor{keywordtype}{void}\ RestoreADPs(\textcolor{keywordtype}{bool}\ restoreCoordinates\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00208\ \ \ \textcolor{comment}{//\ re-\/calculates\ the\ cartesian\ coordinates\ of\ atoms}}
\DoxyCodeLine{00209\ \ \ \textcolor{keywordtype}{void}\ RestoreCoordinates();}
\DoxyCodeLine{00210\ \ \ \textcolor{keywordtype}{void}\ MoveFragment(\textcolor{keyword}{const}\ vec3d\&\ to,\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ fragAtom);}
\DoxyCodeLine{00211\ \ \ \textcolor{keywordtype}{void}\ MoveFragment(\mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ to,\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ fragAtom);}
\DoxyCodeLine{00212\ \ \ \textcolor{keywordtype}{void}\ MoveToCenter();}
\DoxyCodeLine{00213\ \ \ \textcolor{keywordtype}{void}\ MoveFragmentG(\textcolor{keyword}{const}\ vec3d\&\ to,\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ fragAtom);}
\DoxyCodeLine{00214\ \ \ \textcolor{keywordtype}{void}\ MoveFragmentG(\mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ to,\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ fragAtom);}
\DoxyCodeLine{00215\ \ \ \textcolor{comment}{//\ assembles\ fragments\ around\ the\ largest\ one}}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordtype}{void}\ Compaq();}
\DoxyCodeLine{00217\ \ \ \textcolor{comment}{//\ assembles\ broken\ fragments}}
\DoxyCodeLine{00218\ \ \ \textcolor{keywordtype}{void}\ CompaqAll();}
\DoxyCodeLine{00219\ \ \ \textcolor{comment}{/*\ similar\ to\ Compaq,\ but\ considers\ atom\ to\ atom\ distances,\ not\ fragment}}
\DoxyCodeLine{00220\ \textcolor{comment}{\ \ centres}}
\DoxyCodeLine{00221\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordtype}{void}\ CompaqClosest();}
\DoxyCodeLine{00223\ \ \ \textcolor{comment}{/*\ moves\ atoms\ of\ particular\ type\ into\ the\ positions\ closest\ other\ atoms,}}
\DoxyCodeLine{00224\ \textcolor{comment}{\ \ does\ not\ affect\ the\ other\ atoms}}
\DoxyCodeLine{00225\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00226\ \ \ \textcolor{keywordtype}{void}\ CompaqType(\textcolor{keywordtype}{short}\ Z);}
\DoxyCodeLine{00227\ \ \ \textcolor{comment}{/*\ moves\ Q-\/peaks\ into\ the\ positions\ closest\ to\ real\ atoms,\ does\ not\ affect}}
\DoxyCodeLine{00228\ \textcolor{comment}{\ \ the\ other\ atoms}}
\DoxyCodeLine{00229\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordtype}{void}\ CompaqQ()\ \{\ CompaqType(iQPeakZ);\ \}}
\DoxyCodeLine{00231\ \ \ \textcolor{comment}{//\ as\ above,\ for\ H}}
\DoxyCodeLine{00232\ \ \ \textcolor{keywordtype}{void}\ CompaqH()\ \{\ CompaqType(iHydrogenZ);\ \}}
\DoxyCodeLine{00233\ \ \ \textcolor{comment}{//\ transforms\ fragments\ using\ a\ given\ smat}}
\DoxyCodeLine{00234\ \ \ \textcolor{keywordtype}{void}\ TransformFragments(\textcolor{keyword}{const}\ TSAtomPList\&\ fragAtoms,\ \textcolor{keyword}{const}\ smatd\&\ transform);}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \textcolor{comment}{//\ beware\ -\/\ only\ pointers\ are\ compared}}
\DoxyCodeLine{00237\ \ \ \textcolor{keywordtype}{bool}\ operator\ ==\ (\textcolor{keyword}{const}\ TLattice\&\ l)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this}\ ==\ \&l;\ \}}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordtype}{bool}\ operator\ ==\ (\textcolor{keyword}{const}\ TLattice*\ l)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this}\ ==\ l;\ \}}
\DoxyCodeLine{00239\ \ \ \textcolor{keywordtype}{bool}\ operator\ !=\ (\textcolor{keyword}{const}\ TLattice\&\ l)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this}\ !=\ \&l;\ \}}
\DoxyCodeLine{00240\ \ \ \textcolor{keywordtype}{bool}\ operator\ !=\ (\textcolor{keyword}{const}\ TLattice*\ l)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this}\ !=\ l;\ \}}
\DoxyCodeLine{00241\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structTLattice_1_1GrowInfo}{GrowInfo}}\ \{}
\DoxyCodeLine{00242\ \ \ \ \ \mbox{\hyperlink{classTArrayList}{TArrayList<TUIntList>}}\ info;\ \ \textcolor{comment}{//\ TCAtomId\ -\/>\ matrices;}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ unc\_matrix\_count;\ \textcolor{comment}{//\ for\ sanity\ check}}
\DoxyCodeLine{00244\ \ \ \};}
\DoxyCodeLine{00245\ \ \ \textcolor{comment}{//\ takes\ the\ ownership\ of\ the\ provided\ object}}
\DoxyCodeLine{00246\ \ \ \textcolor{keywordtype}{void}\ SetGrowInfo(\mbox{\hyperlink{structTLattice_1_1GrowInfo}{GrowInfo}}*\ grow\_info);}
\DoxyCodeLine{00247\ \ \ \textcolor{comment}{//\ tries\ to\ rebuild\ grows\ structure}}
\DoxyCodeLine{00248\ \ \ \mbox{\hyperlink{structolx__object__ptr}{olx\_object\_ptr<GrowInfo>}}\ Match(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTTypeList}{TTypeList<Atom3DId>}}\ \&ids);}
\DoxyCodeLine{00249\ \ \ \textcolor{comment}{//\ returns\ an\ object\ created\ with\ new}}
\DoxyCodeLine{00250\ \ \ \mbox{\hyperlink{structTLattice_1_1GrowInfo}{GrowInfo}}*\ GetGrowInfo()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00251\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00252\ \ \ \mbox{\hyperlink{structTLattice_1_1GrowInfo}{GrowInfo}}*\ \_GrowInfo;}
\DoxyCodeLine{00253\ \ \ \textcolor{comment}{//\ returns\ true\ if\ the\ info\ is\ valid\ and\ applied}}
\DoxyCodeLine{00254\ \ \ \textcolor{keywordtype}{bool}\ ApplyGrowInfo();}
\DoxyCodeLine{00255\ \ \ \textcolor{comment}{/*\ removes\ H2O\ and\ R3N\ from\ the\ list\ of\ potential\ hydrogen\ bond\ forming\ atoms}}
\DoxyCodeLine{00256\ \textcolor{comment}{\ \ also\ removes\ pivots\ linked\ to\ the\ a\_envi\ base\ through\ a\ metal}}
\DoxyCodeLine{00257\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00258\ \ \ \textcolor{keywordtype}{void}\ RemoveNonHBonding(\textcolor{keyword}{class}\ \mbox{\hyperlink{classTAtomEnvi}{TAtomEnvi}}\&\ p\_envi,\ \textcolor{keywordtype}{size\_t}\ max);}
\DoxyCodeLine{00259\ \ \ \textcolor{comment}{//\ \ void\ AnalyseHBonding(class\ TAtomEnvi\&\ Envi);}}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classTLattice_a526fc4d8580dd1db57eb626ba85b2229}{\_AnalyseAtomHAdd}}(\textcolor{keyword}{class}\ \mbox{\hyperlink{classAConstraintGenerator}{AConstraintGenerator}}\&\ cg,\ \mbox{\hyperlink{classTSAtom}{TSAtom}}\&\ atom,}
\DoxyCodeLine{00261\ \ \ \ \ TSAtomPList\&\ ProcessingAtoms,\ \textcolor{keywordtype}{bool}\ dry\_run,}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordtype}{int}\ part\ =\ DefNoPart,\ TCAtomPList*\ generated\ =\ 0);}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordtype}{size\_t}\ \_ProcessRingHAdd(\mbox{\hyperlink{classAConstraintGenerator}{AConstraintGenerator}}\&\ cg,\ \textcolor{keyword}{const}\ ElementPList\&\ rcont,}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keyword}{const}\ TSAtomPList\&\ atoms,\ \textcolor{keywordtype}{bool}\ dry\_run);}
\DoxyCodeLine{00265\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00266\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structTLattice_1_1IConnectivityGenerator}{IConnectivityGenerator}}\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Generate()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00268\ \ \ \};}
\DoxyCodeLine{00269\ \ \ \textcolor{comment}{//\ Uses\ TUnitCell::FindSymmEq}}
\DoxyCodeLine{00270\ \ \ \textcolor{keyword}{struct\ }DefaultConnectivityGenerator\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structTLattice_1_1IConnectivityGenerator}{IConnectivityGenerator}}\ \{}
\DoxyCodeLine{00271\ \ \ \ \ \mbox{\hyperlink{classTUnitCell}{TUnitCell}}\&\ UnitCell;}
\DoxyCodeLine{00272\ \ \ \ \ DefaultConnectivityGenerator(\mbox{\hyperlink{classTUnitCell}{TUnitCell}}\&\ unitCell)}
\DoxyCodeLine{00273\ \ \ \ \ \ \ :\ UnitCell(unitCell)}
\DoxyCodeLine{00274\ \ \ \ \ \{\}}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordtype}{void}\ Generate()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00276\ \ \ \};}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \textcolor{keywordtype}{void}\ Init(\textcolor{keyword}{const}\ \mbox{\hyperlink{structTLattice_1_1IConnectivityGenerator}{IConnectivityGenerator}}\&\ cg);}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \textcolor{keywordtype}{void}\ Init()\ \{}
\DoxyCodeLine{00281\ \ \ \ \ Init(\mbox{\hyperlink{structTLattice_1_1DefaultConnectivityGenerator}{DefaultConnectivityGenerator}}(GetUnitCell()));}
\DoxyCodeLine{00282\ \ \ \}}
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{//\ implements\ HADD\ command}}
\DoxyCodeLine{00284\ \ \ \textcolor{keywordtype}{size\_t}\ AnalyseHAdd(\textcolor{keyword}{class}\ \mbox{\hyperlink{classAConstraintGenerator}{AConstraintGenerator}}\&\ cg,\ \textcolor{keyword}{const}\ TSAtomPList\&\ atoms,}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keywordtype}{bool}\ dry\_run);}
\DoxyCodeLine{00286\ \ \ \textcolor{comment}{/*\ function\ undoes\ deleting\ atoms\ */}}
\DoxyCodeLine{00287\ \ \ \textcolor{keywordtype}{void}\ undoDelete(\mbox{\hyperlink{classTUndoData}{TUndoData}}*\ data);}
\DoxyCodeLine{00288\ \ \ \textcolor{comment}{/*\ checks\ if\ the\ HFIX\ groups\ have\ valid\ connectivity.\ Returns\ NULL\ if\ nothing}}
\DoxyCodeLine{00289\ \textcolor{comment}{\ \ was\ deleted.}}
\DoxyCodeLine{00290\ \textcolor{comment}{\ \ reinit:\ the\ connectivity\ is\ updated\ after\ some\ of\ the\ groups\ were\ removed}}
\DoxyCodeLine{00291\ \textcolor{comment}{\ \ report:\ prints\ the\ names\ of\ the\ removed\ groups}}
\DoxyCodeLine{00292\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00293\ \ \ \mbox{\hyperlink{classTUndoData}{TUndoData}}*\ ValidateHGroups(\textcolor{keywordtype}{bool}\ reinit,\ \textcolor{keywordtype}{bool}\ report\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00294\ \ \ \textcolor{comment}{//\ returns\ a\ chemical\ moiety\ string\ for\ CIF}}
\DoxyCodeLine{00295\ \ \ olxstr\ CalcMoietyStr(\textcolor{keywordtype}{bool}\ html)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00296\ \ \ \mbox{\hyperlink{classTTypeList}{TTypeList<AnAssociation3<double,\ ContentList,\ size\_t>}}\ >::const\_list\_type}
\DoxyCodeLine{00297\ \ \ \ \ CalcMoiety()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00298\ \ \ \textcolor{keywordtype}{double}\ GetDelta()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Delta;\ \}}
\DoxyCodeLine{00299\ \ \ \textcolor{keywordtype}{double}\ GetDeltaI()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ DeltaI;\ \}}
\DoxyCodeLine{00300\ \ \ \textcolor{keywordtype}{void}\ SetDelta(\textcolor{keywordtype}{double}\ v);}
\DoxyCodeLine{00301\ \ \ \textcolor{keywordtype}{void}\ SetDeltaI(\textcolor{keywordtype}{double}\ v);}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \textcolor{keywordtype}{void}\ ToDataItem(TDataItem\&\ item)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00304\ \ \ \textcolor{comment}{//\ planes\ are\ not\ loaded\ at\ this\ stage}}
\DoxyCodeLine{00305\ \ \ \textcolor{keywordtype}{void}\ FromDataItem(\textcolor{keyword}{const}\ TDataItem\&\ item);}
\DoxyCodeLine{00306\ \ \ \textcolor{comment}{//\ intialise\ the\ data,\ must\ be\ called\ after\ the\ FromDataItem}}
\DoxyCodeLine{00307\ \ \ \textcolor{keywordtype}{void}\ FinaliseLoading();}
\DoxyCodeLine{00308\ \ \ \textcolor{comment}{/*\ if\ multiple\ overlayed\ files\ saved\ -\/\ planes\ reading\ has\ to\ be\ done}}
\DoxyCodeLine{00309\ \textcolor{comment}{\ \ after\ all\ files\ have\ been\ loaded.\ For\ internal\ use\ by\ TXFile}}
\DoxyCodeLine{00310\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00311\ \ \ \textcolor{keywordtype}{void}\ LoadPlanes\_(\textcolor{keyword}{const}\ TDataItem\ \&item,\ \textcolor{keywordtype}{bool}\ rebuild\_defs);}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \textcolor{keywordtype}{void}\ LibGetFragmentCount(\textcolor{keyword}{const}\ TStrObjList\&\ Params,\ TMacroData\&\ E);}
\DoxyCodeLine{00314\ \ \ \textcolor{keywordtype}{void}\ LibGetFragmentAtoms(\textcolor{keyword}{const}\ TStrObjList\&\ Params,\ TMacroData\&\ E);}
\DoxyCodeLine{00315\ \ \ \textcolor{keywordtype}{void}\ LibGetMoiety(\textcolor{keyword}{const}\ TStrObjList\&\ Params,\ TMacroData\&\ E);}
\DoxyCodeLine{00316\ \ \ \textcolor{keywordtype}{void}\ LibIsGrown(\textcolor{keyword}{const}\ TStrObjList\&\ Params,\ TMacroData\&\ E);}
\DoxyCodeLine{00317\ \ \ \textcolor{keywordtype}{void}\ LibIsPolymeric(\textcolor{keyword}{const}\ TStrObjList\&\ Params,\ TMacroData\&\ E);}
\DoxyCodeLine{00318\ \ \ TLibrary*\ ExportLibrary(\textcolor{keyword}{const}\ olxstr\&\ name\ =\ EmptyString());}
\DoxyCodeLine{00319\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structTLattice_1_1VPtr}{VPtr}}\ :\ \textcolor{keyword}{public}\ olx\_virtual\_ptr<TLattice>\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classIOlxObject}{IOlxObject}}*\ get\_ptr()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00321\ \ \ \};}
\DoxyCodeLine{00322\ \};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ EndXlibNamespace()}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
